import{r as I,j as o,R as xs,c as vs}from"./react-D4UEBxRr.js";import{U as W,c as Q,b as Ke,a as se,e as ys,P as Is,I as js}from"./tinybase-Dj37ws2m.js";import{I as Cs,B as Y,L as Ts,G as Ue,a as bs,T as $,S as Xe,C as N,H as q,b as Lt,c as Pt,d as xe,e as ve,R as Oe,D as ks,M as Le,E as Es,A as As,f as Ls,U as Ps,g as ws,h as _s,i as $s,j as Ns,k as Ds}from"./tinywidgets-wJiECzy9.js";import{O as Fs}from"./octokit-CHz68Lcr.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function s(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(r){if(r.ep)return;r.ep=!0;const c=s(r);fetch(r.href,c)}})();const U="",wt=e=>typeof e,w=e=>U+e,He=e=>wt(e)=="string",Ms=(e,t=U,s)=>e.split(t,s),mt=globalThis,_t=Math,Us=_t.floor,Os=63,Hs=Ms("-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz"),Vs=31536e6,Gs=e=>Hs[e&Os],z=e=>wt(e)=="number"&&e>=0,E=e=>e==null,T=(e,t,s)=>E(e)?s==null?void 0:s():t(e),A=e=>e.length,zs=(e,t)=>e.test(t),Bs=e=>A(e)==0,ue=Date.now,Ys=e=>(z(e)||(e=0),e>Vs?e:ue()+e),de=(e,t)=>e.map(t),qs=(e,t,s)=>e.reduce(t,s),te=(e,t)=>e.forEach(t),xt=(e,t,s,...n)=>e.splice(t,s,...n),$t=(e,...t)=>e.push(...t),Nt=e=>e.shift(),Ks=(e,t)=>e.split(t),Xs=(e,t)=>e.filter(t),Ws=e=>e.size,Qs=(e,t)=>e.has(t),Dt=(e,t)=>e.delete(t),We=e=>Ws(e)==0,he=(e,t)=>e==null?void 0:e.forEach(t),vt=e=>e.clear(),j=e=>new Map(e),v=(e,t,s)=>E(s)?(Dt(e,t),e):e==null?void 0:e.set(t,s),Ve=(e,t,s,n)=>(Qs(e,t)?n==null||n(y(e,t)):v(e,t,s()),y(e,t)),y=(e,t)=>e==null?void 0:e.get(t),yt=e=>[...e.keys()],Zs=(e,t)=>{const s={};return he(e,(n,r)=>s[r]=n),s},Ge=(e,t,s,n,r=0)=>T((s?Ve:y)(e,t[r],r>A(t)-2?s:j),c=>{if(r>A(t)-2)return n!=null&&n(c)&&v(e,t[r]),c;const f=Ge(c,t,s,n,r+1);return We(c)&&v(e,t[r]),f}),Js=/^\d+$/,en=()=>{const e=[];let t=0;return[()=>Nt(e)??U+t++,s=>{zs(Js,s)&&A(e)<1e3&&$t(e,s)}]},tn=()=>new Set,sn=(e,t)=>e==null?void 0:e.add(t),nn=(e,t=[U])=>{const s=[],n=(r,c)=>c==A(t)?$t(s,r):te([t[c],null],f=>n(y(r,f),c+1));return n(e,0),s},on=e=>{let t;const[s,n]=en(),r=j();return[(g,R,x)=>{t??(t=e());const S=s();return v(r,S,[g,R,x]),sn(Ge(R,x??[U],tn),S),S},(g,R,...x)=>te(nn(g,R),S=>he(S,C=>y(r,C)[0](t,...R??[],...x))),g=>T(y(r,g),([,R,x])=>(Ge(R,x??[U],void 0,S=>(Dt(S,g),We(S)?1:0)),v(r,g),n(g),x))]},Z=Object,It=e=>Z.getPrototypeOf(e),rn=Z.isFrozen,an=Z.entries,cn=(e,t)=>(delete e[t],e),Ft=e=>!E(e)&&T(It(e),t=>t==Z.prototype||E(It(t)),()=>!0),ln=Z.freeze,Qe=(e,t)=>te(an(e),([s,n])=>t(n,s)),le=(...e)=>Z.assign({},...e),un=e=>(Qe(e,(t,s)=>t===void 0?delete e[s]:0),e),Mt=(e,t)=>E(e)||!Ft(e)||rn(e)?0:(Qe(e,(s,n)=>{t(s,n)||cn(e,n)}),1),Pe=()=>[j(),j()],dn=mt.crypto?e=>mt.crypto.getRandomValues(e):e=>de(e,()=>Us(_t.random()*256)),fn=(e=16)=>qs(dn(new Uint8Array(e)),(t,s)=>t+Gs(s),""),Ze="tickInterval",Je="maxDuration",et="maxRetries",tt="retryDelay",st="repeatDelay",pn={[Ze]:100},we={[Je]:1e3,[et]:0,[tt]:1e3,[st]:null},hn=/^(\d*\.?\d+)(, ?\d*\.?\d+)*$/,_e={[Ze]:z},$e={[Je]:z,[et]:z,[tt]:e=>z(e)||He(e)&&hn.test(e),[st]:e=>z(e)||e===null},Ne=e=>Mt(e,(t,s)=>{var n;return(n=$e[s])==null?void 0:n.call($e,t)})?e:{},jt=e=>{var t;return(t=e[7])==null?void 0:t.abort()},De=(e,t)=>Qe(t,(s,n)=>e[n]=s),gn=()=>{let e={},t,s=0;const n=j(),r=j(),c=j(),f=j(),h=Pe(),g=Pe(),R=j(),x=j(),[S,C,Ce]=on(()=>ee),k=[[],[]],ne=Pe(),oe=j(),re=j(),F=(a,i,l,u,p)=>{const d=k[a],b=d.findIndex(ie=>ie[2]>u),H=[i,l,u];xt(d,b==-1?A(d):b,0,H),Te(a,i,l,1,[a==1,p])},J=(a,i,l,u)=>{const p=k[a],d=p.findIndex(b=>b[1]==l);d!=-1&&(xt(p,d,1),Te(a,i,l,-1,[void 0,u]))},ae=(a,i)=>{const[l,u]=Nt(k[a]);return Te(a,l,u,-1,[void 0,i]),[l,u,y(c,u)]},at=a=>Xs(de(k[a],i=>i[1]),He),ce=a=>C(f,void 0,s=a),Te=(a,i,l,u,p)=>{const d=ne[a];v(d,l,u),v(Ve(oe,i,j),l,p)},ct=(a,i,l,u=U)=>v(Ve(re,a,j),i,[l,u]),O=()=>{te(ne,(a,i)=>{We(a)||(C(g[i],void 0,Zs(a)),vt(a))}),te([[oe,R],[re,x]],([a,i])=>{he(a,(l,u)=>he(l,(p,d)=>C(i,[u,d],...p))),vt(a)})},Zt=()=>{const a=ue(),[i,l]=k;for(C(h[0]);A(i)&&i[0][2]<=a;){const[u,p,d]=ae(0,1);T(y(r,u),([b])=>{if(E(d[8])){const P=ht(p,!0),Ae=P[tt];De(d,{8:P[Je],9:P[et],10:He(Ae)?de(Ks(Ae,","),ms=>parseInt(ms)):[Ae],11:P[st]})}const H=a+d[8],ie=new AbortController,{signal:Rt}=ie;De(d,{6:H,5:!0,7:ie}),F(1,u,p,H,1),b(d[1],Rt,ut(p,d)).then(()=>{d[5]&&Rt.aborted===!1&&(J(1,u,p,2),v(c,p),O(),T(d[11],P=>Ee(u,d[1],P,d[3])))}).catch(P=>{J(1,u,p,4),it(p,d,ue(),4),ct(u,p,4,P.message),O()})},()=>be(p))}for(O();A(l)&&l[0][2]<=a;){const[u,p,d]=ae(1,3);jt(d),it(p,d,a,3),ct(u,p,3)}O(),C(h[1]),s==1||s==2&&!Bs(i)?lt():(ke(),ce(0))},it=(a,i,l,u)=>{if(i[9]-- >0){const p=i[10],d=A(p)>1?p.shift():p[0],b=l+d;De(i,{4:i[4]+1,5:!1,6:b,7:void 0}),F(0,i[0],a,b,u)}else be(a,u)},be=(a,i=5)=>T(y(c,a),l=>{jt(l),J(l[5]?1:0,l[0],a,i),v(c,a)}),lt=()=>{ke(),t=setTimeout(Zt,dt(!0)[Ze])},ke=()=>E(t)?0:clearTimeout(t),ut=(a,[i,l,,,u,p,d])=>un({manager:ee,taskId:i,taskRunId:a,arg:l,retry:u,running:p,nextTimestamp:d}),L=(a,...i)=>(a(...de(i,w)),ee),Jt=a=>L(()=>Mt(a,(i,l)=>{var u;return(u=_e[l])==null?void 0:u.call(_e,i)})?e=a:0),dt=a=>le(a?pn:{},e),es=(a,i)=>L(l=>v(n,l,Ne(i)),a),ft=(a,i)=>T(y(n,w(a)),l=>le(i?we:{},l)),ts=()=>yt(n),ss=a=>L(i=>v(n,i),a),ns=(a,i,l,u={})=>L((p,d)=>v(r,p,[i,d,Ne(u)]),a,l),pt=(a,i)=>T(y(r,w(a)),([,l,u])=>le(i?we:{},i&&!E(l)?ft(l)??{}:{},u)),os=()=>yt(r),rs=a=>L(i=>v(r,i),a),Ee=(a,i,l=0,u={})=>{if(s==2)return;if(Ft(a))return Ee(a.taskId,a.arg,a.startAfter,a.config);const p=fn(),d=Ys(l);return v(c,p,[w(a),i,d,Ne(u),0,!1,d]),F(0,w(a),p,d,0),O(),p},ht=(a,i)=>T(y(c,w(a)),([l,,,u])=>le(i?we:{},i?pt(l,!0)??{}:{},u)),as=a=>T(y(c,w(a)),i=>ut(a,i)),cs=a=>{var i;return(i=y(c,w(a)))==null?void 0:i[5]},is=a=>new Promise(i=>T(y(c,a),([l])=>{const u=gt(l,a,(p,d,b,H)=>{E(H)&&(St(u),i())})},i)),ls=a=>L(i=>{be(i),O()},a),us=()=>at(0),ds=()=>at(1),fs=a=>S(a,f),ps=a=>S(a,h[0]),hs=a=>S(a,h[1]),gs=a=>S(a,g[0]),Ss=a=>S(a,g[1]),gt=(a,i,l)=>S(l,R,[a,i]),Rs=(a,i,l)=>S(l,x,[a,i]),St=a=>(Ce(a),ee),ee={setManagerConfig:Jt,getManagerConfig:dt,setCategory:es,getCategoryConfig:ft,getCategoryIds:ts,delCategory:ss,setTask:ns,getTaskConfig:pt,getTaskIds:os,delTask:rs,scheduleTaskRun:Ee,getTaskRunConfig:ht,getTaskRunInfo:as,getTaskRunRunning:cs,untilTaskRunDone:is,delTaskRun:ls,getScheduledTaskRunIds:us,getRunningTaskRunIds:ds,addStatusListener:fs,addWillTickListener:ps,addDidTickListener:hs,addScheduledTaskRunIdsListener:gs,addRunningTaskRunIdsListener:Ss,addTaskRunRunningListener:gt,addTaskRunFailedListener:Rs,delListener:St,start:()=>L(()=>{ce(1),lt()}),stop:(a=!1)=>L(()=>{a?(ce(0),ke()):s!=0&&ce(2)}),getStatus:()=>s,getNow:ue};return ln(ee)},Sn="tinytick",Fe=globalThis,K=e=>e==null,Rn=(e,t,s)=>K(e)?s==null?void 0:s():t(e),Ct=e=>e.length,Me=Sn+"_uirc",Ut=Fe[Me]?Fe[Me]:Fe[Me]=I.createContext([]),mn=({manager:e,children:t})=>o.jsx(Ut.Provider,{value:I.useMemo(()=>[e],[e]),children:t}),xn=(e,t)=>e.every(t),vn=(e,t)=>!K(e)&&!K(t)&&Ct(e)===Ct(t)&&xn(e,(s,n)=>t[n]===s),Ot=Object,Tt=e=>Ot.getPrototypeOf(e),yn=e=>!K(e)&&Rn(Tt(e),t=>t==Ot.prototype||K(Tt(t)),()=>!0),X=[],bt=[[],0,!1],In=[vn],jn=(e,t)=>e===t,Ht=(e,t,s=X)=>{const n=ye(),r=I.useRef(bt[t]),c=I.useCallback(()=>{var g;const h=K(n)?void 0:((g=n["get"+e])==null?void 0:g.call(n,...s.filter(R=>R!==null)))??bt[t];return(In[t]??jn)(h,r.current)?r.current:r.current=h},[n,t,e,...s]),f=I.useCallback(h=>Cn(n,e,...s,h),[n,t,e,...s]);return I.useSyncExternalStore(f,c,c)},Cn=(e,t,...s)=>{var r;const n=(r=e==null?void 0:e["add"+t+"Listener"])==null?void 0:r.call(e,...s);return()=>{var c;return(c=e==null?void 0:e.delListener)==null?void 0:c.call(e,n)}},Tn=(e,t,s=X)=>{const n=bn(e,t,s);return I.useMemo(n,[n])},bn=(e,t,s=X)=>{const n=ye();return I.useCallback(()=>n==null?void 0:n.scheduleTaskRun(...e,t),[n,...e,...s])},kn=(e,t=X)=>I.useMemo(e,t),ye=()=>I.useContext(Ut)[0],En=()=>Ht("ScheduledTaskRunIds",0),An=()=>Ht("RunningTaskRunIds",0),V=(e,t,s=X,n,r,c=X)=>{const f=ye();I.useLayoutEffect(()=>(f==null||f.setTask(e,t,n,r),()=>{f==null||f.delTask(e)}),[f,e,...s,n,...c])},Vt=(e,t,s,n,r)=>Tn(...yn(e)?[[e.taskId,e.arg,e.startAfter],e.config,t]:[[e,t,s],n,r]),Gt=6e4,B={per_page:100},M=new Fs({auth:localStorage.getItem("token")}),Ln=()=>localStorage.getItem("token")!=null,nt="view",Pn={repoId:{type:"string",default:""},issueId:{type:"string",default:""}},{useCreateStore:wn,useProvideStore:_n,useCreatePersister:$n,useValue:Nn,useSetValueCallback:Dn}=W,D=e=>Nn(e,nt),Ie=(e,t,s)=>Dn(e,t,s,nt),Fn=()=>{const e=wn(()=>Q().setValuesSchema(Pn));return $n(e,t=>Ke(t,async()=>{const[s,n,r]=location.hash.slice(1).split("/");return[{},{repoId:s&&n?s+"/"+n:"",issueId:r}]},async s=>{const{repoId:n,issueId:r}=s()[1];location.hash=n+"/"+r},s=>{const n=()=>s();return window.addEventListener("hashchange",n),n},s=>window.removeEventListener("hashchange",s)),[],async t=>{await t.startAutoLoad(),await t.startAutoSave()}),_n(nt,e),null},ge="issues",zt="issues",Bt="issues",Mn={issues:{title:{type:"string",default:""},pullRequest:{type:"boolean",default:!1},bodyHtml:{type:"string",default:""},createdAt:{type:"string",default:""},updatedAt:{type:"string",default:""}}},{useCreateStore:Un,useProvideStore:On,useCreatePersister:kt,useCell:Hn,useProvidePersister:Vn,useSortedRowIds:Gn,usePersisterStatus:zn}=W,_=(e,t)=>Hn(zt,e,t,ge),Bn=(e,t)=>Gn(zt,e,t,void 0,void 0,ge),Yn=()=>zn(Bt),qn=()=>{const e=D("repoId"),t=Un(()=>Q().setTablesSchema(Mn),[e]);On(ge,t),kt(t,n=>{if(e)return se(n,e+"/"+ge)},[e],async n=>{await(n==null?void 0:n.startAutoLoad()),await(n==null?void 0:n.startAutoSave())},[]);const s=kt(t,n=>{if(e)return Kn(n,e)},[e],async n=>{await(n==null?void 0:n.load())},[]);return Vn(Bt,s),null},Kn=(e,t)=>Ke(e,async()=>{const[s,n]=t.split("/"),r={};return(await M.rest.issues.listForRepo({owner:s,repo:n,mediaType:{format:"html"},...B})).data.forEach(({number:c,title:f,pull_request:h,body_html:g,created_at:R,updated_at:x})=>r[c]={title:f,pullRequest:h!=null,bodyHtml:g??"",createdAt:R,updatedAt:x}),[{issues:r},{}]},async()=>{},s=>setInterval(s,Gt),s=>clearInterval(s)),ze="repo",Yt="repo",Xn={id:{type:"string",default:""},owner:{type:"string",default:""},avatarUrl:{type:"string",default:""},name:{type:"string",default:""},archived:{type:"boolean",default:!1},createdAt:{type:"string",default:""},description:{type:"string",default:""},disabled:{type:"boolean",default:!1},fork:{type:"boolean",default:!1},forksCount:{type:"number",default:0},homepage:{type:"string",default:""},language:{type:"string",default:""},license:{type:"string",default:""},openIssuesCount:{type:"number",default:0},size:{type:"number",default:0},stargazersCount:{type:"number",default:0},topics:{type:"string",default:""},updatedAt:{type:"string",default:""},visibility:{type:"string",default:""}},{useCreateStore:Wn,useProvideStore:Qn,useCreatePersister:Et,usePersisterStatus:Zn,useValue:Jn,useProvidePersister:eo}=W,m=e=>Jn(e,ze),to=()=>Zn(Yt),so=()=>{const e=D("repoId"),t=Wn(()=>Q().setValuesSchema(Xn),[e]);Qn(ze,t),Et(t,n=>{if(e)return se(n,e+"/"+ze)},[e],async n=>{await(n==null?void 0:n.startAutoLoad()),await(n==null?void 0:n.startAutoSave())},[]);const s=Et(t,n=>{if(n&&e)return no(n,e)},[e],async n=>{await(n==null?void 0:n.load())},[]);return eo(Yt,s),null},no=(e,t)=>Ke(e,async()=>{const[s,n]=t.split("/"),{owner:r,name:c,archived:f,created_at:h,description:g,disabled:R,fork:x,forks_count:S,homepage:C,language:Ce,license:k,open_issues_count:ne,size:oe,stargazers_count:re,topics:F,updated_at:J,visibility:ae}=(await M.rest.repos.get({owner:s,repo:n,...B})).data;return[{},{id:r.login+"/"+c,owner:r.login,avatarUrl:r.avatar_url,name:c,archived:f??!1,createdAt:h??"",description:g??"",disabled:R??!1,fork:x,forksCount:S??0,homepage:C??"",language:Ce??"",license:(k==null?void 0:k.name)??"",openIssuesCount:ne??0,size:oe??0,stargazersCount:re??0,topics:(F==null?void 0:F.join(", "))??"",updatedAt:J??"",visibility:ae??""}]},async()=>{},s=>setInterval(s,Gt),s=>clearInterval(s)),Se="settings",oo={reposSortCell:{type:"string",default:"stars"},issuesSortCell:{type:"string",default:"updatedAt"}},{useCreateStore:ro,useProvideStore:ao,useCreatePersister:co,useValue:io,useSetValueCallback:lo}=W,je=e=>io(e,Se),qt=(e,t,s)=>lo(e,t,s,Se),uo=()=>{const e=ro(()=>Q().setValuesSchema(oo));return co(e,t=>se(t,Se),[],async t=>{await t.startAutoLoad(),await t.startAutoSave()}),ao(Se,e),null},fo=1e3*60*60,Be="repos",Re="repos",ot="repos",rt="reposByGroup",po="repos",ho={repos:{owner:{type:"string",default:""},name:{type:"string",default:""},starred:{type:"boolean",default:!1},createdAt:{type:"string",default:""},fork:{type:"boolean",default:!1},forksCount:{type:"number",default:0},openIssuesCount:{type:"number",default:0},stargazersCount:{type:"number",default:0},updatedAt:{type:"string",default:""}}},{useCell:go,useCreatePersister:So,useCreateStore:Ro,useProvideStore:mo,useCreateIndexes:xo,useProvideIndexes:vo,useSliceRowIds:yo,usePersisterStatus:Io,useSliceIds:jo}=W,fe=(e,t)=>go(Re,e,t,Be),Co=()=>jo(rt,ot),To=e=>yo(rt,e,ot),bo=()=>Io(po),ko=()=>{const e=Ro(()=>Q().setTablesSchema(ho));mo(Be,e);const t=je("reposSortCell"),s=t=="name"||t=="fork"?1:-1,n=xo(e,r=>ys(r).setIndexDefinition(rt,Re,c=>c("starred")?"Starred":c("owner"),t,void 0,(c,f)=>(c>f?1:-1)*s),[t]);return vo(ot,n),So(e,r=>se(r,Be),[],async r=>{await r.startAutoLoad(),await r.startAutoSave()}),Eo(e),null},Eo=e=>{const t=I.useCallback(({full_name:n,owner:r,name:c,created_at:f,fork:h,forks_count:g,open_issues_count:R,stargazers_count:x,updated_at:S},C=!1)=>{e.setPartialRow(Re,n,{owner:r.login,name:c,createdAt:f??"",fork:h,forksCount:g??0,openIssuesCount:R??0,stargazersCount:x??0,updatedAt:S??""}),C&&e.setCell(Re,n,"starred",C)},[e]),s=I.useCallback(async(n,r)=>(await n).data.forEach(c=>t(c,r)),[t]);V("fetchReposStarred",()=>s(M.rest.activity.listReposStarredByAuthenticatedUser(B),!0),[s],"github"),V("fetchReposOwned",()=>s(M.rest.repos.listForAuthenticatedUser(B)),[s],"github"),V("fetchReposForOrg",(n="")=>s(M.rest.repos.listForOrg({org:n,...B})),[s],"github"),V("fetchOrgs",async(n,r,{manager:c})=>(await M.rest.orgs.listForAuthenticatedUser(B)).data.forEach(({login:f},h)=>c.scheduleTaskRun("fetchReposForOrg",f,h*100)),[s],"github"),V("fetchRepos",async(n,r,{manager:c})=>{c.scheduleTaskRun({taskId:"fetchReposStarred",startAfter:0}),c.scheduleTaskRun({taskId:"fetchReposOwned",startAfter:100}),c.scheduleTaskRun({taskId:"fetchOrgs",startAfter:200})},[],"github",{repeatDelay:fo}),Vt("fetchRepos")},Ao=1e3*60*60,Ye="user",Lo={name:{type:"string"},avatarUrl:{type:"string"}},{useCreateStore:Po,useProvideStore:wo,useCreatePersister:_o,useValue:$o}=W,qe=e=>$o(e,Ye),No=()=>{const e=Po(()=>Q().setValuesSchema(Lo));return _o(e,t=>se(t,Ye),[],async t=>{await t.startAutoLoad(),await t.startAutoSave()}),wo(Ye,e),Do(e),null},Do=e=>{V("fetchUser",async()=>{if(Ln()){const t=await M.rest.users.getAuthenticated();if(t.status==200){const{name:s,login:n,avatar_url:r}=t.data;e.setValues({name:(s??n)+Math.random(),avatarUrl:r})}}},[e],"github",{repeatDelay:Ao}),Vt({taskId:"fetchUser"})},Fo="#181717",Mo=I.forwardRef(function({title:t="GitHub",color:s="currentColor",size:n=24,...r},c){return s==="default"&&(s=Fo),o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:s,viewBox:"0 0 24 24",ref:c,...r,children:[o.jsx("title",{children:t}),o.jsx("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})]})});var Uo="zhil3w0";const Oo=()=>location.assign("auth.html"),Ho=()=>location.assign("auth.html?logout"),Kt=()=>{const e=qe("name"),t=qe("avatarUrl");return e?o.jsxs("div",{className:Uo,children:[t?o.jsx(Cs,{variant:"avatar",src:t,alt:e}):null,o.jsx(Y,{onClick:Ho,icon:Ts,title:"Logout"})]}):o.jsx(Y,{onClick:Oo,icon:Mo,title:"Login",variant:"accent"})};var Vo="_1ugp98g0";const Go=()=>{const e=En()??[],t=At(e),s=e.length,n=An()??[],r=At(n),c=n.length;return o.jsx("div",{className:Vo,children:c>0?o.jsxs("div",{title:r,children:[c," tasks running"]}):s>0?o.jsxs("div",{title:t,children:[s," tasks scheduled"]}):"Idle"})},At=e=>{const t=ye();return e.map(s=>{const{taskId:n,nextTimestamp:r=0}=(t==null?void 0:t.getTaskRunInfo(s))??{};return`• ${n} (${new Date(r).toLocaleTimeString()})`}).join(`
`)},{createElement:br,Fragment:kr,useEffect:Xt,useRef:Wt,useState:Er}=xs,Qt={behavior:"instant",block:"nearest"},pe=e=>e<1e3?e:(e/1e3).toFixed(e<1e4?1:0)+(e<1e3?"":"k"),me=e=>new Date(e).toLocaleDateString(),G=({repoId:e,isCurrent:t=!1,hardcodedName:s})=>{const n=Ie("repoId",()=>e,[e]),r=Wt(null);Xt(()=>{var h;t&&((h=r.current)==null||h.scrollIntoView(Qt))},[t]);const c=fe(e,"name"),f=fe(e,"stargazersCount");return o.jsx(Y,{variant:"item",ref:r,onClick:n,icon:fe(e,"fork")?Ue:bs,title:s??c,titleRight:s?null:o.jsx($,{icon:Xe,title:pe(f)}),current:t})};var zo="_1ul10dk0",Bo="_1ul10dk1";const Yo=()=>o.jsxs(N,{className:zo,children:[o.jsx("img",{src:"/favicon.svg",alt:"TinyHub logo",className:Bo}),o.jsx("h2",{children:"Welcome to TinyHub"}),o.jsx("p",{children:"Navigate to your own repos from the sidebar, or go directly to one of the popular ones below."}),o.jsx(q,{}),o.jsx(G,{repoId:"facebook/react",hardcodedName:"React"}),o.jsx(G,{repoId:"vuejs/vue",hardcodedName:"Vue"}),o.jsx(G,{repoId:"tensorflow/tensorflow",hardcodedName:"TensorFlow"}),o.jsx(G,{repoId:"torvalds/linux",hardcodedName:"Linux"}),o.jsx(G,{repoId:"ohmyzsh/ohmyzsh",hardcodedName:"Oh My Zsh"})]});var qo="_1nl4udb0",Ko="_1nl4udb1";const Xo=({issueId:e})=>o.jsxs(o.Fragment,{children:[o.jsxs(Lt,{icon:_(e,"pullRequest")?Pt:xe,children:[o.jsx("h2",{children:_(e,"title")}),o.jsxs("p",{children:["Created ",me(_(e,"createdAt")),"."]}),o.jsxs("p",{children:["Updated ",me(_(e,"updatedAt")),"."]})]}),o.jsx(q,{}),o.jsx("div",{dangerouslySetInnerHTML:{__html:_(e,"bodyHtml")??""}})]}),Wo=({issueId:e,isCurrent:t})=>{const s=Ie("issueId",()=>e,[e]),n=Wt(null);return Xt(()=>{var r;t&&((r=n.current)==null||r.scrollIntoView(Qt))},[t]),o.jsx(Y,{variant:"item",ref:n,onClick:s,icon:_(e,"pullRequest")?Pt:xe,title:_(e,"title"),titleRight:o.jsx($,{title:`#${e}`}),current:t})},Qo=({currentIssueId:e,issueIds:t})=>t.map(s=>o.jsx(Wo,{issueId:s,isCurrent:s==e},s)),Zo=()=>{const e=D("repoId"),t=D("issueId"),s=je("issuesSortCell"),n=s=="title",r=Bn(s,!n),c=Ie("issueId",f=>f);return I.useEffect(()=>{r.length>0&&(t==""||!r.includes(t))&&c(r[0])},[r,t,c]),o.jsx(ve,{id:"issues",title:"Issues",titleRight:o.jsx($,{icon:xe,variant:"accent",title:fe(e,"openIssuesCount")}),children:o.jsxs(Oe,{variant:"1|2",children:[o.jsx(N,{className:qo,children:o.jsx(Qo,{currentIssueId:t,issueIds:r})}),_(t,"title")?o.jsx(N,{className:Ko,children:o.jsx(Xo,{issueId:t})}):null]})})};var Jo="wm8fek2";const er=()=>{const e=m("homepage");return o.jsxs(ve,{title:o.jsx("b",{children:"Summary"}),titleRight:o.jsxs("div",{className:Jo,children:[o.jsx($,{title:m("visibility"),icon:Es,variant:"accent"}),m("fork")?o.jsx($,{title:"fork",icon:Ue,variant:"accent"}):null,m("archived")?o.jsx($,{title:"archived",icon:As,variant:"accent"}):null,m("disabled")?o.jsx($,{title:"disabled",icon:Ls,variant:"accent"}):null]}),id:"repoHeader",startOpen:!0,children:[o.jsxs(Oe,{variant:"2|1",children:[o.jsxs(Lt,{src:m("avatarUrl"),children:[o.jsx("h2",{children:m("name")}),o.jsx("p",{children:m("description")}),o.jsxs("p",{children:["Created ",me(m("createdAt")),", updated"," ",me(m("updatedAt")),"."]}),e?o.jsx("p",{children:o.jsx("a",{href:e,target:"_blank",rel:"noreferrer",children:e})}):null]}),o.jsx(N,{children:o.jsx(ks,{data:{Owner:m("owner"),Language:m("language"),License:m("license")}})})]}),o.jsx(q,{}),o.jsxs(Oe,{variant:"1|1|1",children:[o.jsx(N,{children:o.jsx(Le,{icon:Xe,title:"Stars",number:pe(m("stargazersCount"))})}),o.jsx(N,{children:o.jsx(Le,{icon:Ue,title:"Forks",number:pe(m("forksCount"))})}),o.jsx(N,{children:o.jsx(Le,{icon:xe,title:"Issues",number:pe(m("openIssuesCount"))})})]})]})},tr=()=>{const e=D("repoId"),t=m("id");return e==t?o.jsxs(o.Fragment,{children:[o.jsx(er,{}),o.jsx(Zo,{})]}):null},sr={title:"title",createdAt:"most recently created",updatedAt:"most recently updated",pullRequest:"pull requests then issues"},nr=()=>{const e=je("issuesSortCell"),t=qt("issuesSortCell",s=>s.target.value,[]);return o.jsxs("div",{children:[o.jsx("label",{children:"Issues sorted by"}),o.jsx("select",{onChange:t,value:e,children:Object.entries(sr).map(([s,n])=>o.jsx("option",{value:s,children:n},s))})]})},or=({group:e,currentRepoId:t})=>{const s=To(e);return o.jsx(ve,{id:`repoGroup/${e}`,icon:e=="Starred"?Xe:Ps,title:e,titleRight:o.jsx($,{variant:"accent",title:s.length}),children:s.map(n=>o.jsx(G,{repoId:n,isCurrent:n==t},n))},e)},rr=()=>{const e=D("repoId");return Co().map(t=>o.jsx(or,{group:t,currentRepoId:e},t))},ar={name:"name",stargazersCount:"stars",forksCount:"forks",openIssuesCount:"issues",createdAt:"most recently created",updatedAt:"most recently updated",fork:"repos then forks"},cr=()=>{const e=je("reposSortCell"),t=qt("reposSortCell",s=>s.target.value,[]);return o.jsxs("div",{children:[o.jsx("label",{children:"Repos sorted by"}),o.jsx("select",{onChange:t,value:e,children:Object.entries(ar).map(([s,n])=>o.jsx("option",{value:s,children:n},s))})]})},ir=()=>{const e=D("repoId"),t=Ie("repoId",()=>"");return o.jsxs(o.Fragment,{children:[o.jsx(Y,{variant:"item",onClick:t,icon:ws,title:"Home",current:!e}),o.jsx(q,{}),o.jsx(rr,{}),o.jsx(q,{}),o.jsxs(ve,{icon:_s,title:"Settings",children:[o.jsx(cr,{}),o.jsx(nr,{})]})]})};var lr="_1cl0umd0",ur="_1cl0umd1",dr="_1cl0umd2";const fr=()=>{const e=bo()+to()+Yn();return o.jsxs(o.Fragment,{children:[o.jsx("img",{src:"/favicon.svg",alt:"TinyHub logo",className:$s(lr,e>0&&ur)}),o.jsx("h1",{children:"TinyHub"}),o.jsx(Y,{variant:"icon",icon:Ns,href:"https://github.com/tinyplex/tinyhub",alt:"A local-first GitHub client, built in public.",className:dr})]})};var pr="yugd9z0",hr="yugd9z1";const gr=()=>o.jsxs(N,{className:pr,children:[o.jsx("img",{src:"/favicon.svg",alt:"TinyHub logo",className:hr}),o.jsx("h2",{children:"Welcome to TinyHub"}),o.jsx("p",{children:"TinyHub is a local-first GitHub client, built in public."}),o.jsx(q,{}),o.jsx("p",{children:"Login with GitHub to get started."}),o.jsx(Kt,{})]}),Sr=()=>o.jsx(mn,{manager:mr(),children:o.jsxs(Is,{children:[o.jsx(No,{}),o.jsx(ko,{}),o.jsx(so,{}),o.jsx(qn,{}),o.jsx(Fn,{}),o.jsx(uo,{}),o.jsx(Rr,{}),o.jsx(js,{})]})}),Rr=()=>{const e=qe("name"),t=D("repoId");return o.jsx(Ds,{title:o.jsx(fr,{}),topNavRight:o.jsx(Kt,{}),sideNav:e?o.jsx(ir,{}):null,main:e?t?o.jsx(tr,{}):o.jsx(Yo,{}):o.jsx(gr,{}),footer:Go})},mr=()=>kn(()=>{const e=gn().setCategory("github",{maxDuration:5e3,maxRetries:2,retryDelay:5e3}).start();return e.addTaskRunFailedListener(null,null,(t,s,n,r,c)=>console.error(`Task ${s}/${n} failed: ${r} (${c})`)),e});addEventListener("load",()=>vs.createRoot(document.getElementById("app")).render(o.jsx(Sr,{})));
